# Global settings
replicaCount: 2

image:
  repository: harbor.server.thweb.click/boardgame-devsecops/app
  pullPolicy: Always
  tag: "latest"

imagePullSecrets:
  - name: harbor-registry

service:
  type: ClusterIP
  port: 80
  targetPort: 8080

ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: 'letsencrypt-prod'
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  hosts:
    - host: boardgame.app.thweb.click  # Override per env
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: boardgame-tls
      hosts:
        - boardgame.app.thweb.click

# Application configs
env:
  springDatasourceUrl: "jdbc:h2:mem:testdb"
  springH2ConsoleEnabled: "true"

# Default resources (will be overridden per env)
resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

probes:
  liveness:
    httpGet:
      path: /
      port: 8080
    initialDelaySeconds: 45
    periodSeconds: 10
  readiness:
    httpGet:
      path: /
      port: 8080
    initialDelaySeconds: 30
    periodSeconds: 5